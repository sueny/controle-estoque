<div layout-fill ng-init="vm.initCadastroProduto()" ng-cloak>
    <div layout="row" layout-align="center start">
        <div flex="80"  class="md-whiteframe-6dp">
            <md-toolbar>
                <div class="md-toolbar-tools">
                    <h2>
                        <span ng-hide="vm.isShow">Cadastrar Produto</span>
                        <span ng-show="vm.isShow">Editar Produto</span>
                    </h2>
                </div>
            </md-toolbar>
            <md-content class="md-padding">

                <form name="produtoForm" data-ng-submit="vm.cadastrarProduto(vm.Produto)">
                    <div layout-gt-sm="column">

                        <div layout="row">
                            <md-input-container flex>
                                <label>Matéria Prima</label>
                                <input name="nomeProduto" ng-model="vm.Produto.name" required
                                       md-maxlength="40">
                            </md-input-container>
                        </div>
                        <div layout="row">
                            <md-input-container>
                                <label>SKU</label>
                                <input name="skuProduto" ng-model="vm.Produto.skuCode" required
                                       md-maxlength="40">
                            </md-input-container>
                        </div>
                        <div layout="rows" layout-align="center center" ng-repeat="mp in vm.listaMateriaPrima">
                            <div><span>{{mp.name}}: </span><span>{{mp.qte}}</span></div>
                        </div>
                        <div flex="100" class="md-whiteframe-4dp" layout-align="center start">
                            <md-toolbar>
                                <div class="md-toolbar-tools">
                                    <h2>
                                        <span>Composição do Produto</span>
                                    </h2>
                                </div>
                            </md-toolbar>
                            <div layout="row">
                                <md-input-container flex="66">
                                    <label>Composição</label>
                                    <input name="nameMateriaPrima" ng-model="vm.materiaprima.name" required
                                           md-maxlength="40">
                                </md-input-container>
                                <md-input-container flex>
                                    <label>Quantidade</label>
                                    <input name="qteMateriaPrima" type="number" ng-model="vm.materiaprima.qte" required>
                                </md-input-container>
                                <md-button name=addMateriaPrima" class="md-raised md-primary" aria-label="Compor Produto" ng-click="vm.adicionarMateriaPrima(vm.materiaprima)">Adicionar ao Produto</md-button>
                        </div>
                        </div>
                        <div layout-align="end center" layout="rows">
                            <span flex></span>
                            <div ng-show="vm.isShow">
                                <md-button name="btnExcluirProduto" class="md-raised md-primary" aria-label="Remove" ng-click="vm.excluirProduto($event, vm.Produto)">Excluir</md-button>
                                <md-button name="btnCadastrarProduto" type="submit" class="md-primary"
                                           ng-class="{'md-primary md-raised': (produtoForm.$dirty && produtoForm.$valid) }"
                                           aria-label="Submit">Confirmar Alterações</md-button>

                            </div>

                            <div ng-hide="vm.isBtnRemoveProduto">
                                <md-button name="btnCadastrarProduto" type="submit" class="md-primary"
                                           ng-class="{'md-primary md-raised': (produtoForm.$dirty && produtoForm.$valid) }"
                                           aria-label="Submit">Cadastrar</md-button>
                            </div>
                        </div>
                    </div>
                </form>

            </md-content>
        </div>
    </div>

</div>
